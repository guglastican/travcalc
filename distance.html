<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Distance Calculator</title>
  <link rel="stylesheet" href="Styles.css">
</head>
<body>
  <header>
    <h1>Travel Calculator</h1>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="calculator.html">Turnaround Calculator</a></li>
        <li><a href="distance.html">Distance Calculator</a></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <h2>Distance Calculator</h2>
    <div class="form-section">
      <fieldset>
        <legend>Enter Locations</legend>
        <div class="form-group">
          <label for="origin">Origin:</label>
          <input type="text" id="origin" placeholder="Enter starting location">
        </div>
        <div class="form-group">
          <label for="destination">Destination:</label>
          <input type="text" id="destination" placeholder="Enter destination">
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="travelMode">Travel Mode:</label>
            <select id="travelMode" class="form-control">
              <option value="driving">Driving</option>
              <option value="walking">Walking</option>
              <option value="bicycling">Bicycling</option>
              <option value="transit">Public Transit</option>
            </select>
          </div>
          <div class="form-group">
            <label for="unitSystem">Units:</label>
            <select id="unitSystem" class="form-control">
              <option value="imperial">Imperial (miles)</option>
              <option value="metric">Metric (kilometers)</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <button id="calculateDistance" class="btn">Calculate</button>
        </div>
        <div id="distanceResults" class="results"></div>
      </fieldset>
    </div>
    <article id="distanceArticle" style="margin-top: 20px; text-align: center;"></article>
  </main>

  <script src="distanceCalculator.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const resultsDiv = document.getElementById('distanceResults');
      const article = document.getElementById('distanceArticle');

      const observer = new MutationObserver(mutations => {
        mutations.forEach(mutation => {
          if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
            mutation.addedNodes.forEach(node => {
              if (node.classList && node.classList.contains('distance-result')) {
                const data = {
                  origin: node.querySelector('p:nth-child(2)').textContent.split(': ')[1],
                  destination: node.querySelector('p:nth-child(3)').textContent.split(': ')[1],
                  distance: node.querySelector('p:nth-child(4)').textContent.split(': ')[1],
                  duration: node.querySelector('p:nth-child(5)').textContent.split(': ')[1]
                };
                console.log('Data being passed to generateArticle:', data);
                generateArticle(data);
              }
            });
          }
        });
      });

      const config = { childList: true, subtree: true };
      observer.observe(resultsDiv, config);

      function generateArticle(data) {
        const { origin, destination, distance, duration } = data;
        const articleContent = `
          <article>
            <h2>Exploring the Journey from ${origin} to ${destination}</h2>
            <p>Embark on a virtual journey as we explore the distance between ${origin} and ${destination}. This route not only connects two distinct locations but also offers a passage through diverse landscapes and experiences.</p>
            <p>The total distance between ${origin} and ${destination} is approximately ${distance}. This calculation provides a clear understanding of the physical separation between these two points, essential for planning travel and logistics.</p>
            <p>Traveling from ${origin} to ${destination} typically takes around ${duration}. The duration can vary based on the mode of transportation, traffic conditions, and any planned stops along the way.</p>

            <p>${origin} and ${destination} are situated in distinct geographical regions, each offering unique characteristics. ${origin} might be known for its coastal beauty, while ${destination} could be celebrated for its mountainous terrain. Understanding the geographical context enhances the appreciation of the journey.</p>
            <p>When planning a trip between ${origin} and ${destination}, consider factors such as the best time of year to travel, available transportation options, and potential cultural experiences. Each of these elements contributes to a more fulfilling and memorable journey.</p>
            <p>The route from ${origin} to ${destination} is dotted with various points of interest. Travelers might encounter historical landmarks, scenic viewpoints, or vibrant local communities. Highlighting these aspects can transform a simple commute into an enriching adventure.</p>

            <h2>Conclusion</h2>
            <p>In conclusion, the journey from ${origin} to ${destination} is more than just a transfer from one place to another. It represents an opportunity to explore, discover, and connect with the world around us. Whether for business or pleasure, understanding the nuances of this route can greatly enhance the travel experience.</p>
          </article>
        `;
        article.innerHTML = articleContent;
      }
    });
  </script>
</body>
</html>
